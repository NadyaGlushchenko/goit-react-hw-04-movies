(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[3],{120:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return _}));var n=a(1),i=a(81),c=a(68),o=a(0),r=a(3),s=a(11),u=a(65),m=a(84),p=a.n(m),l=a(116),g=a(72),f=a(66),d=a(18),b=a(69),j=a(70),h=a(94),v=a.n(h);var _=function(){var e,t=Object(g.a)(),a=Object(r.f)(),m=Object(r.g)(),h=Object(o.useState)(null),_=Object(c.a)(h,2),O=_[0],x=_[1],E=Object(o.useState)(0),P=Object(c.a)(E,2),w=P[0],M=P[1],I=Object(o.useState)(null),N=Object(c.a)(I,2),y=N[0],k=N[1],D=Object(o.useState)(f.a.IDLE),L=Object(c.a)(D,2),V=L[0],S=L[1],T=null!==(e=new URLSearchParams(m.search).get("page"))&&void 0!==e?e:1;return Object(o.useEffect)((function(){S(f.a.PENDING),u.d(T).then((function(e){var t=e.results,a=e.total_pages;x(t),M(a),S(f.a.RESOLVED)})).catch((function(e){console.log(e),k("Something went wrong. Try again."),S(f.a.REJECTED)}))}),[T]),Object(n.jsxs)("main",{className:v.a.main,children:[Object(n.jsx)("h1",{className:v.a.title,children:"Trending today"}),V===f.a.PENDING&&Object(n.jsx)(d.a,{}),V===f.a.REJECTED&&Object(n.jsx)(b.a,{message:y.message}),V===f.a.RESOLVED&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("ul",{className:v.a.moviesList,children:O.map((function(e){return Object(n.jsxs)("li",{className:v.a.moviesItem,children:[Object(n.jsx)(s.b,{to:{pathname:"movies/".concat((t="".concat(e.title," ").concat(e.id),p()(t,{lower:!0}))),state:{from:m}},children:Object(n.jsx)("img",{src:e.poster_path?"https://image.tmdb.org/t/p/w500/".concat(e.poster_path):j.a,alt:e.title,className:v.a.poster})}),Object(n.jsx)("span",{className:v.a.movieTitle,children:e.title})]},e.id);var t}))}),w>1&&Object(n.jsx)(l.a,{className:t.root,count:w,onChange:function(e,t){a.push(Object(i.a)(Object(i.a)({},m),{},{search:"page=".concat(t)}))},page:Number(T),showFirstButton:!0,showLastButton:!0,size:"large"})]})]})}},65:function(e,t,a){"use strict";a.d(t,"d",(function(){return m})),a.d(t,"e",(function(){return p})),a.d(t,"b",(function(){return l})),a.d(t,"a",(function(){return g})),a.d(t,"c",(function(){return f}));var n=a(75),i=a.n(n),c=a(76),o="https://api.themoviedb.org/3",r="6914e86918040074e2fe382ba8e8cb5e";function s(){return u.apply(this,arguments)}function u(){return(u=Object(c.a)(i.a.mark((function e(){var t,a,n,c=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:"",a=c.length>1&&void 0!==c[1]?c[1]:{},e.next=4,fetch(t,a);case 4:if(!(n=e.sent).ok){e.next=11;break}return e.next=8,n.json();case 8:e.t0=e.sent,e.next=12;break;case 11:e.t0=Promise.reject(new Error("404 The resource you requested could not be found \ud83e\udd7a"));case 12:return e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){return s("".concat(o,"/trending/movie/day?api_key=").concat(r,"&page=").concat(e))}function p(e,t){return s("".concat(o,"/search/movie?api_key=").concat(r,"&query=").concat(e,"&page=").concat(t))}function l(e){return s("".concat(o,"/movie/").concat(e,"?api_key=").concat(r))}function g(e){return s("".concat(o,"/movie/").concat(e,"/credits?api_key=").concat(r))}function f(e,t){return s("".concat(o,"/movie/").concat(e,"/reviews?api_key=").concat(r,"&page=").concat(t))}},66:function(e,t,a){"use strict";t.a={IDLE:"idle",PENDING:"pending",RESOLVED:"resolved",REJECTED:"rejected"}},67:function(e,t,a){"use strict";t.a=a.p+"static/media/error.ecc6f277.png"},69:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(1),i=a(67),c=a(73),o=a.n(c);var r=function(e){var t=e.message;return Object(n.jsxs)("div",{role:"alert",className:o.a.wrapper,children:[Object(n.jsx)("img",{src:i.a,width:"650",alt:"sadcat",className:o.a.img}),Object(n.jsx)("p",{text:t,className:o.a.text,children:t})]})}},70:function(e,t,a){"use strict";t.a=a.p+"static/media/no-image.8fbb00d8.jpg"},72:function(e,t,a){"use strict";var n=a(113),i=Object(n.a)({root:{display:"flex",justifyContent:"center","& .MuiPaginationItem-page.Mui-selected, & .MuiPaginationItem-page.Mui-selected:hover, & .MuiPaginationItem-page.Mui-selected.Mui-focusVisible,  & .MuiPaginationItem-page:hover, & .MuiPaginationItem-page.Mui-focusVisible":{backgroundColor:"#fa7584"},"& .MuiPaginationItem-root":{color:"#fff"},"& .MuiPaginationItem-page:hover, & .MuiPaginationItem-page.Mui-focusVisible":{opacity:"0.7"},"& .MuiPaginationItem-page.Mui-selected:hover, & .MuiPaginationItem-page.Mui-selected.Mui-focusVisible":{opacity:"1"},"& .MuiPagination-ul":{justifyContent:"center"}}});t.a=i},73:function(e,t,a){e.exports={wrapper:"ErrorView_wrapper__1YN3X",img:"ErrorView_img__3uz1D",text:"ErrorView_text__22naq"}},94:function(e,t,a){e.exports={main:"HomePage_main__4mqIL",title:"HomePage_title__3OVsL",moviesList:"HomePage_moviesList__2VHor",moviesItem:"HomePage_moviesItem__2izib",poster:"HomePage_poster__2Ovpf",movieTitle:"HomePage_movieTitle__28Szs",pagination:"HomePage_pagination__fK2cE"}}}]);
//# sourceMappingURL=home-view.a0d208ce.chunk.js.map